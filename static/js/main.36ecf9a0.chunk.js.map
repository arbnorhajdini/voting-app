{"version":3,"sources":["redux/actions/types.js","redux/reducers/rootReducer.js","redux/reducers/questions.js","redux/reducers/selectedQuestion.js","redux/store.js","serviceWorker.js","assets/vote.png","theme/theme.js","components/AppBar.jsx","redux/actions/index.js","constants.js","api/baseApi.js","components/Modal.jsx","components/QuestionForm.jsx","components/CreateQuestion.jsx","components/Error.jsx","components/QuestionTemplate.jsx","components/HomePage.jsx","components/QuestionDetails.jsx","App.js","index.js"],"names":["FETCH_QUESTIONS_SUCCESS","IS_LOADING","FETCH_QUESTIONS_ERROR","FETCH_QUESTION_SUCCESS","rootReducer","combineReducers","questions","state","action","type","Object","assign","questionsHaveError","hasError","selectedQuestion","question","isLoading","configStore","initialState","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","Boolean","location","hostname","match","theme","primary","main","secondary","highlight","base","white","gray","styles","makeStyles","StyledAppBar","styled","AppBar","displayName","StyledAppBarLogo","img","StyledHomeIcon","HomeIcon","ButtonAppBar","position","data-hook","Toolbar","IconButton","edge","to","src","vote","alt","fetchQuestionsError","status","BASE_URL","fetchQuestions","url","request","axios","get","dispatch","then","resp","data","catch","StyledHeader","Modal","Header","StyledText","p","StyledButton","Button","FormModal","props","size","centered","Title","header","Body","body","Footer","showVotingResults","onClick","onHide","StyledLabel","Label","connect","createQuestion","payload","useState","setQuestion","choices","setChoices","modalShow","setModalShow","modalBodyText","setModalBodyText","modalHeaderText","setModalHeaderText","onSubmit","event","choicesArray","split","payloadObject","JSON","stringify","post","headers","preventDefault","row","sm","placeholder","value","onChange","target","check","offset","show","StyledCard","Card","StyledCardBody","CardBody","CreateQuestion","collapse","setCollapse","color","isOpen","ErrorAlert","Alert","severity","AlertTitle","StyledQuestionWrapper","div","StyledQuestionHeader","StyledQuestionBody","StyledQuestionFooter","StyledQuestionButton","button","QuestionTemplate","publishedDate","moment","format","StyledApp","StyledAppHeader","StyledContainer","StyledLoaderContainer","StyledLoader","Loader","StyledError","useEffect","questionsTemplate","keys","map","key","index","published_at","length","StyledQuestion","StyledTableBodyRow","TableRow","TableHeadRow","StyledTableCell","TableCell","StyledProgressBar","withStyles","root","height","borderRadius","colorPrimary","backgroundColor","bar","ProgressBar","fetchSingleQuestion","id","postVote","choice","title","setChoice","questionId","params","calculateVotesPercent","choiceVotes","totalVotes","reduce","n","votes","percent","parseInt","isNaN","toFixed","choicesList","className","handleChoiceOnClick","component","scope","variant","TableContainer","Paper","Table","TableHead","TableBody","handleModalHide","App","exact","path","HomePage","render","QuestionDetails","store","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.36ecf9a0.chunk.js","sourcesContent":["export const FETCH_QUESTIONS_SUCCESS = 'FETCH_QUESTIONS_SUCCESS';\r\nexport const IS_LOADING = 'IS_LOADING';\r\nexport const FETCH_QUESTIONS_ERROR = 'FETCH_QUESTIONS_ERROR';\r\nexport const FETCH_QUESTION_SUCCESS = 'FETCH_QUESTION_SUCCESS';\r\nexport const VOTE_SELECTED = 'VOTE_SELECTED';\r\nexport const QUESTION_CREATED = 'QUESTION_CREATED';\r\n","import { combineReducers } from 'redux';\r\n\r\nimport { questions, questionsHaveError, isLoading } from './questions';\r\nimport { selectedQuestion } from './selectedQuestion';\r\n\r\nconst rootReducer = combineReducers({\r\n  questions,\r\n  questionsHaveError,\r\n  selectedQuestion,\r\n  isLoading\r\n})\r\n\r\nexport default rootReducer;\r\n","import {\r\n  FETCH_QUESTIONS_SUCCESS,\r\n  FETCH_QUESTIONS_ERROR,\r\n  IS_LOADING\r\n} from 'redux/actions/types';\r\n  \r\nexport const questions = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_QUESTIONS_SUCCESS:\r\n      return Object.assign({}, state, action.questions);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const isLoading = (state = false, action) => {\r\n  switch (action.type) {\r\n    case IS_LOADING:\r\n      return action.isLoading;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const questionsHaveError = (state = false, action) => {\r\n  switch (action.type) {\r\n    case FETCH_QUESTIONS_ERROR:\r\n      return action.hasError;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { FETCH_QUESTION_SUCCESS } from 'redux/actions/types';\r\n\r\nexport const selectedQuestion = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_QUESTION_SUCCESS:\r\n      return Object.assign({}, state, action.question);\r\n    default:\r\n      return state;\r\n  }\r\n}","import { applyMiddleware, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from 'redux/reducers/rootReducer';\r\n\r\nconst configStore = (initialState) => {\r\n  const enhancersComposition = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n    })\r\n    : compose;\r\n  const enhancer = enhancersComposition(applyMiddleware(thunk));\r\n  \r\n  return createStore(rootReducer, initialState, enhancer);\r\n}\r\n\r\nexport default configStore;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/vote.8d8529c3.png\";","export const theme = {\r\n  palette: {\r\n    primary: {\r\n      main: '#00cea5',\r\n    },\r\n    secondary: {\r\n      main: '#164ca3',\r\n    },\r\n    highlight: {\r\n      main: '#131a50',\r\n    },\r\n    base: {\r\n      main: '#ecf7ff',\r\n      white: '#ffffff',\r\n      gray: '#c3cad2',\r\n    }\r\n  }\r\n};\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport styled from 'styled-components';\r\n\r\nimport vote from 'assets/vote.png';\r\nimport {theme} from 'theme/theme.js';\r\n\r\nconst styles = makeStyles();\r\n\r\nconst StyledAppBar = styled(AppBar)`\r\n  background-color: ${theme.palette.secondary.main};\r\n`\r\nStyledAppBar.displayName = 'StyledAppBar'\r\n\r\nconst StyledAppBarLogo = styled.img`\r\n  max-width: 160px;\r\n  margin-left: 16px;\r\n`\r\nStyledAppBarLogo.displayName = 'StyledAppBarLogo'\r\n\r\nconst StyledHomeIcon = styled(HomeIcon)`\r\n  font-size: 48px;\r\n  color: ${theme.palette.primary.main};\r\n`\r\nStyledHomeIcon.displayName = 'StyledHomeIcon'\r\n\r\nconst ButtonAppBar = () => {\r\n  styles();\r\n\r\n  return (\r\n    <>\r\n      <StyledAppBar position=\"static\" data-hook='app-bar'>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            data-hook='home-button'\r\n          >\r\n\t\t\t\t    <Link to={`/questions`}>\r\n\t\t          <StyledHomeIcon />\r\n\t\t        </Link>\r\n          </IconButton>\r\n          <StyledAppBarLogo src={vote} alt=\"vote\" />\r\n        </Toolbar>\r\n      </StyledAppBar>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ButtonAppBar;\r\n","import {\r\n  FETCH_QUESTIONS_SUCCESS,\r\n  FETCH_QUESTIONS_ERROR,\r\n  FETCH_QUESTION_SUCCESS,\r\n  IS_LOADING,\r\n  VOTE_SELECTED,\r\n  QUESTION_CREATED\r\n} from './types';\r\n\r\nexport const fetchQuestionsSuccess = (questions) => {\r\n  return {\r\n    type: FETCH_QUESTIONS_SUCCESS, questions\r\n  };\r\n};\r\n\r\nexport const fetchQuestionsError = (status) => {\r\n  return {\r\n    type: FETCH_QUESTIONS_ERROR, hasError: status\r\n  };\r\n};\r\n\r\nexport const fetchQuestionSuccess = (question) => {\r\n  return {\r\n    type: FETCH_QUESTION_SUCCESS, question\r\n  };\r\n};\r\n\r\nexport const isLoading = (status) => {\r\n  return {\r\n    type: IS_LOADING, isLoading: status\r\n  };\r\n};\r\n\r\nexport const voteSelected = (request) => {\r\n  return {\r\n    type: VOTE_SELECTED, payload: request\r\n  };\r\n};\r\n\r\nexport const questionCreated = (request) => {\r\n  return {\r\n    type: QUESTION_CREATED, payload: request\r\n  };\r\n};\r\n","export const BASE_URL = 'https://polls.apiblueprint.org';\r\n","import axios from 'axios';\r\nimport {\r\n  fetchQuestionsSuccess,\r\n  fetchQuestionsError,\r\n  fetchQuestionSuccess,\r\n  isLoading,\r\n  voteSelected,\r\n  questionCreated\r\n} from 'redux/actions';\r\n\r\nimport {BASE_URL} from 'constants.js';\r\n\r\nexport const fetchQuestions = () => {\r\n\tlet url = `${BASE_URL}/questions`;\r\n\tlet request = axios.get(url);\r\n\treturn dispatch => {\r\n    dispatch(isLoading(true));\r\n    request.then(resp => {\r\n      dispatch(fetchQuestionsSuccess(resp.data));\r\n      dispatch(isLoading(false));\r\n      dispatch(fetchQuestionsError(false));\r\n    }).catch(() => {\r\n      dispatch(fetchQuestionsError(true));\r\n    });\r\n\t}\r\n}\r\n\r\nexport const fetchSingleQuestion = (id) => {\r\n  let url = `${BASE_URL}/questions/${id}`;\r\n  let request = axios.get(url);\r\n\r\n  return dispatch => {\r\n    dispatch(isLoading(true));\r\n    request.then(resp => {\r\n        dispatch(fetchQuestionSuccess(resp.data));\r\n        dispatch(isLoading(false));\r\n        dispatch(fetchQuestionsError(false));\r\n    }).catch(() => {\r\n        dispatch(fetchQuestionsError(true));\r\n    });\r\n  }\r\n}\r\n\r\nexport const postVote = (choice) => {\r\n  return dispatch => dispatch(voteSelected(choice))\r\n}\r\n\r\nexport const createQuestion = (payload) => {\r\n  return dispatch => dispatch(questionCreated(payload))\r\n}\r\n","import { Button, Modal } from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport {theme} from 'theme/theme.js';\r\n\r\nconst StyledHeader = styled(Modal.Header)`\r\n  background: ${theme.palette.secondary.main};\r\n  color: ${theme.palette.base.white};\r\n`\r\nStyledHeader.displayName = 'StyledHeader'\r\n\r\nconst StyledText = styled.p`\r\n  color: ${theme.palette.highlight.main};\r\n  font-size: 20px;\r\n}\r\n`\r\nStyledText.displayName = 'StyledText'\r\n\r\nconst StyledButton = styled(Button)`\r\n  background: ${theme.palette.secondary.main};\r\n  font-weight: bold;\r\n\t&:hover {\r\n\t\tbackground: ${theme.palette.highlight.main};\r\n\t}\r\n`\r\nStyledButton.displayName = 'StyledButton'\r\n\r\nconst FormModal = (props) => {\r\n  return (\r\n    <Modal\r\n      {...props}\r\n      size='lg'\r\n      data-hook='info-modal'\r\n      centered\r\n    >\r\n      <StyledHeader>\r\n        <Modal.Title>\r\n          {props.header}\r\n        </Modal.Title>\r\n      </StyledHeader>\r\n      <Modal.Body>\r\n        <StyledText>\r\n          {props.body}\r\n        </StyledText>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n\t\t\t\t{props.showVotingResults &&\r\n\t\t\t\t\t<StyledButton data-hook='show-results' onClick={props.showVotingResults}>Show Results</StyledButton>}\r\n\t\t    <Link to={`/questions`}>\r\n          <StyledButton data-hook='show-home' onClick={props.onHide}>Back to Home</StyledButton>\r\n        </Link>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default FormModal;\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Col, Button, Form, FormGroup, Label, Input } from 'reactstrap';\r\nimport styled from 'styled-components';\r\nimport axios from \"axios/index\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { createQuestion } from 'api/baseApi.js';\r\nimport {BASE_URL} from 'constants.js';\r\nimport FormModal from 'components/Modal';\r\nimport {theme} from 'theme/theme.js';\r\nimport { fetchQuestions } from 'api/baseApi.js';\r\n\r\nconst StyledButton = styled(Button)`\r\n  background: ${theme.palette.secondary.main};\r\n  font-weight: bold;\r\n  border: none;\r\n\t&:hover {\r\n\t\tbackground: ${theme.palette.highlight.main};\r\n\t}\r\n`\r\nStyledButton.displayName = 'StyledButton'\r\n\r\nconst StyledLabel = styled(Label)`\r\n  font-weight: bold;\r\n  color: ${theme.palette.highlight.main};\r\n`\r\nStyledLabel.displayName = 'StyledLabel'\r\n\r\nconst QuestionForm = (props) => {\r\n  const [question, setQuestion] = useState('');\r\n  const [choices, setChoices] = useState('');\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [modalBodyText, setModalBodyText] = useState('');\r\n  const [modalHeaderText, setModalHeaderText] = useState('');\r\n\r\n\tconst handleQuestion = (event) => {\r\n\t  setQuestion(event.target.value);\r\n\t};\r\n\r\n  const handleChoices = (event) => {\r\n    setChoices(event.target.value);\r\n  }\r\n\r\n  const handleFormSubmit = (event) => {\r\n\t\tconst choicesArray = choices.split(',');\r\n\t\tconst payloadObject = '{\"question\": \"'+ question +'\", \"choices\": '+ JSON.stringify(choicesArray) + '}';\r\n\r\n    axios.post(`${BASE_URL}/questions?page=1`, payloadObject, {\r\n\t\t\t\theaders: {'Content-Type': 'application/json'}\r\n\t\t\t}).then(() => {\r\n        setModalShow(true);\r\n\t\t\t\tsetModalHeaderText('Success')\r\n\t\t\t\tsetModalBodyText('The new question has been created successfully.');\r\n\t    })\r\n\t    .catch(() => {\r\n        setModalShow(true);\r\n\t\t\t\tsetModalHeaderText('Error')\r\n\t\t\t\tsetModalBodyText('The new question could not be created. Please try again.');\r\n\t    });\r\n    props.createQuestion(payloadObject);\r\n\t  event.preventDefault();\r\n  }\r\n\r\n\tconst handleModalHide = () => {\r\n    setModalShow(false)\r\n\t\tprops.fetchQuestions();\r\n  }\r\n\r\n  return (\r\n    <>\r\n     \t<Form onSubmit={handleFormSubmit} data-hook='question-form'>\r\n        <FormGroup row>\r\n\t        <StyledLabel sm={2}>New Question</StyledLabel>\r\n\t        <Col sm={10}>\r\n\t          <Input type=\"text\" data-hook='question-name' placeholder=\"Type your question here\" value={question} onChange={handleQuestion} />\r\n\t        </Col>\r\n        </FormGroup>\r\n        <FormGroup row>\r\n\t        <StyledLabel sm={2}>Choices</StyledLabel>\r\n\t        <Col sm={10}>\r\n\t          <Input type=\"textarea\" data-hook='choices-list' placeholder=\"Type your choices separated by a comma and a space. Example: Cat, Dog, Rat\" value={choices} onChange={handleChoices}/>\r\n\t        </Col>\r\n        </FormGroup>\r\n        <FormGroup check row>\r\n\t        <Col sm={{ size: 10, offset: 5 }}>\r\n\t          <StyledButton>Submit Question</StyledButton>\r\n\t        </Col>\r\n        </FormGroup>\r\n\t    </Form>\r\n      <FormModal\r\n        show={modalShow}\r\n        onHide={() => handleModalHide()}\r\n\t\t\t\theader={modalHeaderText}\r\n\t\t\t\tbody={modalBodyText}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nQuestionForm.propTypes = {\r\n  createQuestion: PropTypes.func.isRequired,\r\n  fetchQuestions: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(null, { createQuestion, fetchQuestions })(QuestionForm);\r\n","import React, { useState } from 'react';\r\nimport { Collapse, Button, CardBody, Card } from 'reactstrap';\r\nimport styled from 'styled-components'\r\n\r\nimport QuestionForm from './QuestionForm';\r\nimport {theme} from 'theme/theme.js';\r\n\r\nconst StyledButton = styled(Button)`\r\n  display: block;\r\n  text-align: center;\r\n  background: ${theme.palette.secondary.main};\r\n  max-width: 80vw;\r\n  width: 100%;\r\n  margin: 20px auto;\r\n  height: 50px;\r\n  font-size: 24px;\r\n  border: none;\r\n  &:hover,\r\n  &:focus {\r\n\t\tbackground: ${theme.palette.highlight.main};\r\n\t}\r\n`\r\n\r\nStyledButton.displayName = 'StyledButton'\r\n\r\nconst StyledCard = styled(Card)`\r\n  width: 81%;\r\n  margin: 0px auto;\r\n`\r\nStyledCard.displayName = 'StyledCard'\r\n\r\nconst StyledCardBody = styled(CardBody)`\r\n  background: ${theme.palette.primary.main};\r\n`\r\nStyledCardBody.displayName = 'StyledCardBody'\r\n\r\nconst CreateQuestion = () => {\r\n  const [collapse, setCollapse] = useState(false);\r\n\r\n  const toggle = () => {\r\n    setCollapse(!collapse);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <StyledButton color=\"primary\" onClick={toggle} data-hook='create-question'>Create Question</StyledButton>\r\n      <Collapse isOpen={collapse}>\r\n        <StyledCard>\r\n          <StyledCardBody>\r\n            <QuestionForm />\r\n          </StyledCardBody>\r\n        </StyledCard>\r\n      </Collapse>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CreateQuestion;\r\n","import React from 'react';\r\nimport { Alert, AlertTitle } from '@material-ui/lab';\r\n\r\nexport default function ErrorAlert() {\r\n  return (\r\n    <div >\r\n      <Alert severity=\"error\">\r\n        <AlertTitle>Error</AlertTitle>\r\n        This is an error in fetching data - <strong>Please check your internet connection!</strong>\r\n      </Alert>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport moment from 'moment'\r\n\r\nimport {theme} from 'theme/theme.js';\r\n\r\nconst StyledQuestionWrapper = styled.div`\r\n  background: ${theme.palette.primary.main};\r\n  border-radius: 5px;\r\n  box-shadow: 4px 4px 4px -4px ${theme.palette.base.gray};\r\n`\r\nStyledQuestionWrapper.displayName = 'StyledQuestionWrapper'\r\n\r\nconst StyledQuestionHeader = styled.div`\r\n\tbackground: ${theme.palette.secondary.main};\r\n  text-align: center;\r\n  color: ${theme.palette.base.white};\r\n  padding: 10px;\r\n`\r\nStyledQuestionHeader.displayName = 'StyledQuestionHeader'\r\n\r\nconst StyledQuestionBody = styled.div`\r\n  display: flex;\r\n  flex-wrap: row;\r\n  padding: 10px 15px;\r\n`\r\nStyledQuestionBody.displayName = 'StyledQuestionBody'\r\n\r\nconst StyledQuestionFooter = styled.div`\r\n  text-align: right;\r\n  padding: 15px;\r\n`\r\nStyledQuestionFooter.displayName = 'StyledQuestionFooter'\r\n\r\nconst StyledQuestionButton = styled.button`\r\n  font-size: 14px;\r\n  border: none;\r\n  background: ${theme.palette.secondary.main};\r\n  color: ${theme.palette.base.white};\r\n  font-weight: bold;\r\n  padding: 10px 20px;\r\n  &:hover,\r\n  &:focus {\r\n    background-color: ${theme.palette.highlight.main};\r\n  }\r\n`\r\nStyledQuestionButton.displayName = 'StyledQuestionButton'\r\n\r\nconst QuestionTemplate = ({ question, publishedDate, choices, url }) => {\r\n  return (\r\n    <StyledQuestionWrapper>\r\n      <StyledQuestionHeader>\r\n          <h5>{question}</h5>\r\n      </StyledQuestionHeader>\r\n      <StyledQuestionBody>\r\n        <div>\r\n          <h5>Published on: <span>{moment(publishedDate).format('MMMM Do YYYY, HH:mm')}</span></h5>\r\n\t\t\t\t\t<h5>Available choices: <span>{choices}</span></h5>\r\n        </div>\r\n      </StyledQuestionBody>\r\n      <StyledQuestionFooter>\r\n        <Link to={`${url}`}><StyledQuestionButton data-hook='vote-button'>Vote</StyledQuestionButton></Link>\r\n      </StyledQuestionFooter>\r\n    </StyledQuestionWrapper>\r\n\r\n  );\r\n}\r\n\r\nexport default QuestionTemplate;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport Loader from '@material-ui/core/CircularProgress';\r\n\r\nimport { fetchQuestions } from 'api/baseApi.js';\r\nimport CreateQuestion from './CreateQuestion';\r\nimport Error from './Error';\r\nimport QuestionTemplate from './QuestionTemplate';\r\nimport {theme} from 'theme/theme.js';\r\n\r\nconst StyledApp = styled.div`\r\n  min-height: 0;\r\n  display: inline-block;\r\n  position: relative;\r\n  margin: 50px 0;\r\n  color: ${theme.palette.highlight.main};\r\n  width: 100%;\r\n`\r\nStyledApp.displayName = 'StyledApp'\r\n\r\nconst StyledAppHeader = styled.div`\r\n  text-align: center;\r\n  background: ${theme.palette.primary.main};\r\n  max-width: 80vw;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  height: 75px;\r\n  padding-top: 12px;\r\n`\r\nStyledAppHeader.displayName = 'StyledAppHeader'\r\n\r\nconst StyledContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  grid-column-gap: 20px;\r\n  grid-row-gap: 20px;\r\n  justify-items: stretch;\r\n  align-items: stretch;\r\n  width: 81%;\r\n  margin: 1rem auto;\r\n\t@media (max-width: 870px) {\r\n\t  grid-template-columns: 1fr 1fr;\r\n\t}\r\n\t@media (max-width: 480px) {\r\n\t  grid-template-columns: 1fr;\r\n\t}\r\n`\r\nStyledContainer.displayName = 'StyledContainer'\r\n\r\nconst StyledLoaderContainer = styled.div`\r\n  max-width: 60px;\r\n  width: 100%;\r\n  margin: 100px auto;\r\n`\r\nStyledLoaderContainer.displayName = 'StyledLoaderContainer'\r\n\r\nconst StyledLoader = styled(Loader)`\r\n  color: ${theme.palette.secondary.main};\r\n`\r\nStyledLoader.displayName = 'StyledLoader'\r\n\r\nconst StyledError = styled.div`\r\n  max-width: 80vw;\r\n  width: 100%;\r\n  margin: 80px auto;\r\n`\r\nStyledError.displayName = 'StyledError'\r\n\r\nconst QuestionsList = (props) => {\r\n\r\n  useEffect(() => {\r\n    props.fetchQuestions();\r\n  }, []); // eslint-disable-line\r\n\r\n  const { questions, isLoading, questionsHaveError } = props;\r\n  const questionsTemplate = Object.keys(questions).map((key, index) => {\r\n    return <QuestionTemplate\r\n      key={key}\r\n      question={questions[key].question}\r\n      publishedDate={questions[key].published_at}\r\n      choices={questions[key].choices.length}\r\n      url={questions[key].url}\r\n\t\t/>\r\n  });\r\n\r\n  return (\r\n  \t<StyledApp>\r\n      <StyledAppHeader data-hook='app-header'>\r\n      \t<h1>Questions</h1>\r\n      </StyledAppHeader>\r\n      <CreateQuestion />\r\n      {isLoading && !questionsHaveError &&\r\n\t\t\t\t<StyledLoaderContainer><StyledLoader /></StyledLoaderContainer>}\r\n\t\t\t{isLoading && questionsHaveError && <StyledError><Error /></StyledError>}\r\n      <StyledContainer data-hook='questions-container'>\r\n        {!isLoading && questionsTemplate}\r\n      </StyledContainer>\r\n    </StyledApp>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps({ questions, isLoading, questionsHaveError }) {\r\n  return { questions, isLoading, questionsHaveError }\r\n}\r\n\r\nQuestionsList.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n\tquestionsHaveError: PropTypes.bool.isRequired,\r\n  questions: PropTypes.object.isRequired,\r\n  fetchQuestions: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchQuestions })(QuestionsList);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport axios from \"axios/index\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ProgressBar from '@material-ui/core/LinearProgress';\r\nimport Loader from '@material-ui/core/CircularProgress';\r\n\r\nimport {BASE_URL} from 'constants.js';\r\nimport { fetchSingleQuestion, postVote } from 'api/baseApi.js';\r\nimport FormModal from 'components/Modal';\r\nimport {theme} from 'theme/theme.js';\r\n\r\nconst StyledApp = styled.div`\r\n  min-height: 0;\r\n  display: inline-block;\r\n  position: relative;\r\n  margin: 50px 0;\r\n  color: ${theme.palette.highlight.main};\r\n  width: 100%;\r\n`\r\nStyledApp.displayName = 'StyledApp'\r\n\r\nconst StyledAppHeader = styled.div`\r\n  text-align: center;\r\n  background: ${theme.palette.primary.main};\r\n  max-width: 80vw;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  height: 75px;\r\n  padding-top: 12px;\r\n`\r\nStyledAppHeader.displayName = 'StyledAppHeader'\r\n\r\nconst StyledContainer = styled.div`\r\n  display: block;\r\n  justify-items: stretch;\r\n  align-items: stretch;\r\n  width: 80%;\r\n  margin: 1rem auto;\r\n`\r\nStyledContainer.displayName = 'StyledContainer'\r\n\r\nconst StyledQuestion = styled.div`\r\n  display: block;\r\n  background: ${theme.palette.secondary.main};\r\n  color: ${theme.palette.base.white};\r\n  max-width: 80vw;\r\n  width: 100%;\r\n  margin: 20px auto;\r\n  height: 60px;\r\n  font-size: 24px;\r\n  padding: 12px 0 0 12px;\r\n`\r\nStyledQuestion.displayName = 'StyledQuestion'\r\n\r\nconst StyledTableBodyRow = styled(TableRow)`\r\n  height: 60px;\r\n  align-items: center;\r\n  border-radius: 5px;\r\n  Width: 100%;\r\n  &.active {\r\n\t\tbackground: ${theme.palette.primary.main}; \r\n  }\r\n  &:hover{\r\n    cursor: pointer;\r\n\t\tbackground: ${theme.palette.base.main};\r\n  }\r\n`\r\nStyledTableBodyRow.displayName = 'StyledTableBodyRow'\r\n\r\nconst TableHeadRow = styled(TableRow)`\r\n  background: ${theme.palette.base.main};\r\n`\r\nTableHeadRow.displayName = 'TableHeadRow'\r\n\r\nconst StyledTableCell = styled(TableCell)`\r\n  color: ${theme.palette.highlight.main};\r\n\tfont-weight: bold;\r\n`\r\nStyledTableCell.displayName = 'StyledTableCell'\r\n\r\nconst StyledButton = styled.button`\r\n  background: ${theme.palette.secondary.main};\r\n  font-weight: bold;\r\n  color: ${theme.palette.base.white};\r\n\tfloat: right;\r\n  margin-top: 1rem;\r\n\tborder: none;\r\n\tpadding: 10px;\r\n\t&:hover {\r\n\t\tbackground: ${theme.palette.highlight.main};\r\n\t}\r\n`\r\nStyledButton.displayName = 'StyledButton'\r\n\r\nconst StyledLoaderContainer = styled.div`\r\n  max-width: 60px;\r\n  width: 100%;\r\n  margin: 100px auto;\r\n`\r\nStyledLoaderContainer.displayName = 'StyledLoaderContainer'\r\n\r\nconst StyledLoader = styled(Loader)`\r\n  color: ${theme.palette.secondary.main};\r\n`\r\nStyledLoader.displayName = 'StyledLoader'\r\n\r\nconst StyledProgressBar = withStyles(() => ({\r\n  root: {\r\n    height: 20,\r\n    borderRadius: 5,\r\n  },\r\n  colorPrimary: {\r\n    backgroundColor: '#c3cad2',\r\n  },\r\n  bar: {\r\n    backgroundColor: '#164ca3',\r\n  },\r\n}))(ProgressBar);\r\n\r\nconst QuestionDetail = (props) => {\r\n  const [choice, setChoice] = useState({\r\n    title: '',\r\n    url: null\r\n  });\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [modalBodyText, setModalBodyText] = useState('');\r\n  const [modalHeaderText, setModalHeaderText] = useState('');\r\n\tconst { question, choices } = props.selectedQuestion;\r\n\r\n  useEffect(() => {\r\n    const {questionId} = props.match.params;\r\n    props.fetchSingleQuestion(questionId);\r\n  }, []); // eslint-disable-line\r\n\r\n\tconst handleChoiceOnClick = ({choice, url}) => {\r\n    setChoice({\r\n\t    title: choice,\r\n\t    url: url\r\n    });\r\n  }\r\n\r\n\tconst handleVoteSubmit = (event) => {\r\n    axios.post(`${BASE_URL}${choice.url}`).then(() => {\r\n        setModalShow(true);\r\n\t\t\t\tsetModalHeaderText('Success')\r\n\t\t\t\tsetModalBodyText('Your vote has been submitted successfully.');\r\n\t    })\r\n\t    .catch(() => {\r\n        setModalShow(true);\r\n\t\t\t\tsetModalHeaderText('Error')\r\n\t\t\t\tsetModalBodyText('Your vote could not be submitted. Please try again.');\r\n\t    });\r\n    props.postVote(choice);\r\n\t\tevent.preventDefault();\r\n  }\r\n\r\n\tconst handleModalHide = () => {\r\n    setModalShow(false)\r\n\t\tconst {questionId} = props.match.params;\r\n\t\tprops.fetchSingleQuestion(questionId);\r\n  }\r\n\r\n\tconst calculateVotesPercent = (choiceVotes) => {\r\n\t  const totalVotes = choices.reduce((n, {votes}) => n + votes, 0);\r\n    const percent = parseInt(choiceVotes) * 100 / totalVotes;\r\n    const percentValue =  isNaN(parseInt(percent)) ? 0 : percent.toFixed(2);\r\n    return percentValue;\r\n  }\r\n\r\n  const choicesList = choices ? Object.keys(choices).map((key, index) => {\r\n\t  return (\r\n\t    <StyledTableBodyRow\r\n\t\t\t\tkey={key}\r\n\t\t\t\tclassName={`${choice.title === choices[key].choice ? 'active' : ''}`}\r\n\t\t\t\tdata-hook='question-choice'\r\n\t\t\t\tonClick={(event) => {\r\n\t\t      event.preventDefault();\r\n\t\t      handleChoiceOnClick(choices[key]);\r\n\t    }}>\r\n        <StyledTableCell component=\"th\" scope=\"row\">{index + 1}.</StyledTableCell>\r\n        <StyledTableCell>{choices[key].choice}</StyledTableCell>\r\n        <StyledTableCell>{choices[key].votes}</StyledTableCell>\r\n\t\t\t\t<StyledTableCell>{calculateVotesPercent(choices[key].votes)} %</StyledTableCell>\r\n        <StyledTableCell><StyledProgressBar variant=\"determinate\" value={parseInt(calculateVotesPercent(choices[key].votes))} /></StyledTableCell>\r\n\t    </StyledTableBodyRow>\r\n\t  );\r\n\t}) : null;\r\n\r\n  return (\r\n\t\t<>\r\n\t\t  <StyledApp>\r\n\t\t    <StyledAppHeader>\r\n\t\t      <h1>Details</h1>\r\n\t\t    </StyledAppHeader>\r\n\t\t    {props.isLoading &&\r\n\t\t\t\t\t<StyledLoaderContainer><StyledLoader /></StyledLoaderContainer>}\r\n\t\t\t\t{!props.isLoading && <StyledContainer>\r\n\t\t      <StyledQuestion>Question: {question}</StyledQuestion>\r\n\t\t      <form onSubmit={handleVoteSubmit}>\r\n\t\t\t\t    <TableContainer component={Paper}>\r\n\t\t\t\t      <Table>\r\n\t\t\t\t        <TableHead>\r\n\t\t\t\t          <TableHeadRow>\r\n\t\t\t\t            <StyledTableCell>No.</StyledTableCell>\r\n\t\t\t\t            <StyledTableCell>Choice</StyledTableCell>\r\n\t\t\t\t            <StyledTableCell>Votes</StyledTableCell>\r\n\t\t\t\t            <StyledTableCell>Percent (%)</StyledTableCell>\r\n\t\t\t\t\t\t\t\t\t\t<StyledTableCell>Progress</StyledTableCell>\r\n\t\t\t\t          </TableHeadRow>\r\n\t\t\t\t        </TableHead>\r\n\t\t\t\t        <TableBody data-hook='question-table'>\r\n\t\t\t\t          {choicesList}\r\n\t\t\t\t        </TableBody>\r\n\t\t\t\t      </Table>\r\n\t\t\t\t    </TableContainer>\r\n\t\t        <StyledButton type=\"submit\" data-hook='submit-vote'>Submit vote</StyledButton>\r\n\t\t      </form>\r\n\t\t    </StyledContainer>}\r\n\t\t  </StyledApp>\r\n\t\t  <FormModal\r\n\t\t    show={modalShow}\r\n\t\t    onHide={() => setModalShow(false)}\r\n\t\t\t\tshowVotingResults={() => handleModalHide()}\r\n\t\t\t\theader={modalHeaderText}\r\n\t\t\t\tbody={modalBodyText}\r\n\t\t  />\r\n\t  </>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps({ selectedQuestion, isLoading }) {\r\n  return { selectedQuestion, isLoading }\r\n}\r\n\r\nQuestionDetail.propTypes = {\r\n  isLoading: PropTypes.bool.isRequired,\r\n  history: PropTypes.object.isRequired,\r\n  match: PropTypes.object.isRequired,\r\n  selectedQuestion: PropTypes.object.isRequired,\r\n  fetchSingleQuestion: PropTypes.func.isRequired,\r\n  postVote: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchSingleQuestion, postVote })(QuestionDetail);\r\n","import React from 'react';\r\nimport { \r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n  Switch\r\n} from 'react-router-dom';\r\n\r\nimport AppBar from 'components/AppBar';\r\nimport HomePage from 'components/HomePage';\r\nimport QuestionDetails from 'components/QuestionDetails';\r\n\r\nconst App = () => (\r\n  <>\r\n    <Router>\r\n      <AppBar exact path=\"/questions\" component={HomePage} />\r\n      <Route exact path=\"/voting-app\" render={() => <Redirect to=\"/questions\" />} />\r\n      <Switch>\r\n        <Route path=\"/questions/:questionId\" component={QuestionDetails} />\r\n        <Route path=\"/questions\" component={HomePage} />\"\r\n      </Switch>\r\n    </Router>\r\n  </>\r\n)\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'index.css';\r\nimport { Provider } from 'react-redux';\r\nimport configStore from 'redux/store';\r\nimport * as serviceWorker from 'serviceWorker';\r\nimport App from 'App';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nconst store = configStore();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}